# Firebase ç™»å½•åŠŸèƒ½é…ç½®æŒ‡å—

æœ¬é¡¹ç›®å·²é›†æˆ Firebase Authentication ç™»å½•åŠŸèƒ½ï¼Œæ”¯æŒä»¥ä¸‹ç™»å½•æ–¹å¼ï¼š
- âœ… é‚®ç®± + å¯†ç 
- âœ… Google è´¦å·
- âœ… GitHub è´¦å·

## ğŸ“‹ é…ç½®æ­¥éª¤

### 1. åˆ›å»º Firebase é¡¹ç›®

1. è®¿é—® [Firebase æ§åˆ¶å°](https://console.firebase.google.com/)
2. ç‚¹å‡» "æ·»åŠ é¡¹ç›®" æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
3. è¾“å…¥é¡¹ç›®åç§°ï¼ˆä¾‹å¦‚ï¼šjoyee-assetsï¼‰
4. ï¼ˆå¯é€‰ï¼‰å¯ç”¨ Google Analytics
5. ç‚¹å‡» "åˆ›å»ºé¡¹ç›®"

### 2. æ³¨å†Œ Web åº”ç”¨

1. åœ¨ Firebase é¡¹ç›®æ§åˆ¶å°ï¼Œç‚¹å‡» "Web" å›¾æ ‡ï¼ˆ</>ï¼‰
2. è¾“å…¥åº”ç”¨æ˜µç§°ï¼ˆä¾‹å¦‚ï¼šjoyee-assets-webï¼‰
3. **å‹¾é€‰** "åŒæ—¶ä¸ºæ­¤åº”ç”¨è®¾ç½® Firebase Hosting"ï¼ˆå¯é€‰ï¼‰
4. ç‚¹å‡» "æ³¨å†Œåº”ç”¨"

### 3. è·å– Firebase é…ç½®

æ³¨å†Œå®Œæˆåï¼Œæ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„é…ç½®ä»£ç ï¼š

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abcdef123456"
};
```

**âš ï¸ å¤åˆ¶è¿™æ®µé…ç½®ä»£ç ï¼Œç¨åéœ€è¦ä½¿ç”¨ï¼**

### 4. ä¿®æ”¹é¡¹ç›®é…ç½®æ–‡ä»¶

æ‰“å¼€é¡¹ç›®ä¸­çš„ `auth.js` æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹éƒ¨åˆ†ï¼š

```javascript
// âš ï¸ è¯·æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„ Firebase é…ç½®
const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
    appId: "YOUR_APP_ID"
};
```

**å°†å…¶æ›¿æ¢ä¸ºæ‚¨åœ¨æ­¥éª¤ 3 ä¸­å¤åˆ¶çš„é…ç½®ã€‚**

### 5. å¯ç”¨è®¤è¯æ–¹å¼

#### 5.1 å¯ç”¨é‚®ç®±/å¯†ç ç™»å½•

1. åœ¨ Firebase æ§åˆ¶å°ï¼Œè¿›å…¥ **"Authentication"ï¼ˆèº«ä»½éªŒè¯ï¼‰**
2. ç‚¹å‡» **"Sign-in method"ï¼ˆç™»å½•æ–¹æ³•ï¼‰**æ ‡ç­¾
3. ç‚¹å‡» **"ç”µå­é‚®ä»¶/å¯†ç "**
4. **å¯ç”¨**ç¬¬ä¸€ä¸ªå¼€å…³ï¼ˆç”µå­é‚®ä»¶/å¯†ç ï¼‰
5. ç‚¹å‡» **"ä¿å­˜"**

#### 5.2 å¯ç”¨ Google ç™»å½•ï¼ˆå¯é€‰ï¼‰

1. åœ¨åŒä¸€é¡µé¢ï¼Œç‚¹å‡» **"Google"**
2. **å¯ç”¨**å¼€å…³
3. é€‰æ‹©é¡¹ç›®æ”¯æŒç”µå­é‚®ä»¶ï¼ˆä½¿ç”¨æ‚¨çš„é‚®ç®±ï¼‰
4. ç‚¹å‡» **"ä¿å­˜"**

#### 5.3 å¯ç”¨ GitHub ç™»å½•ï¼ˆå¯é€‰ï¼‰

1. åœ¨åŒä¸€é¡µé¢ï¼Œç‚¹å‡» **"GitHub"**
2. **å¯ç”¨**å¼€å…³
3. å‰å¾€ [GitHub Developer Settings](https://github.com/settings/developers)
4. ç‚¹å‡» "New OAuth App"
5. å¡«å†™ä¿¡æ¯ï¼š
   - **Application name**: Joyee Assets
   - **Homepage URL**: https://yourdomain.com
   - **Authorization callback URL**: å¤åˆ¶ Firebase æä¾›çš„å›è°ƒ URLï¼ˆç±»ä¼¼ï¼š`https://your-project.firebaseapp.com/__/auth/handler`ï¼‰
6. ç‚¹å‡» "Register application"
7. å¤åˆ¶ **Client ID** å’Œ **Client Secret**
8. å›åˆ° Firebaseï¼Œç²˜è´´è¿™ä¸¤ä¸ªå€¼
9. ç‚¹å‡» **"ä¿å­˜"**

### 6. é…ç½®æˆæƒåŸŸå

1. åœ¨ Firebase æ§åˆ¶å°çš„ "Authentication" -> "Settings" -> "Authorized domains"
2. æ·»åŠ æ‚¨çš„åŸŸåï¼ˆä¾‹å¦‚ï¼š`joyeeassets.com`, `joyeeassets.net`ï¼‰
3. å¦‚æœä½¿ç”¨å®å¡”é¢æ¿ï¼Œæ·»åŠ æ‚¨çš„æœåŠ¡å™¨åŸŸåæˆ– IP

**æ³¨æ„**ï¼š`localhost` é»˜è®¤å·²ç»æ·»åŠ ï¼Œæœ¬åœ°å¼€å‘æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

---

## ğŸš€ éƒ¨ç½²åˆ°å®å¡”é¢æ¿

### æ–¹æ³• 1ï¼šç›´æ¥ä¸Šä¼ ï¼ˆæ¨èï¼‰

1. ç™»å½•å®å¡”é¢æ¿
2. è¿›å…¥ **"ç½‘ç«™"** -> é€‰æ‹©æ‚¨çš„ç½‘ç«™ -> **"æ–‡ä»¶"**
3. ä¸Šä¼ ä»¥ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼š
   ```
   â”œâ”€â”€ index.html
   â”œâ”€â”€ login.html
   â”œâ”€â”€ profile.html
   â”œâ”€â”€ styles.css
   â”œâ”€â”€ script.js
   â”œâ”€â”€ auth.js          â† ç¡®ä¿å·²é…ç½® Firebase
   â”œâ”€â”€ login.js
   â”œâ”€â”€ profile.js
   â”œâ”€â”€ JoyeeLOGO.jpg
   â””â”€â”€ å…¶ä»–æ–‡ä»¶...
   ```

4. è®¿é—®æ‚¨çš„ç½‘ç«™ï¼Œç‚¹å‡»å³ä¸Šè§’ "Login" æŒ‰é’®æµ‹è¯•

### æ–¹æ³• 2ï¼šä½¿ç”¨ Git

å¦‚æœæ‚¨çš„é¡¹ç›®å·²ç»åœ¨ Git ä»“åº“ï¼š

1. åœ¨å®å¡”é¢æ¿å®‰è£… "Git" æ’ä»¶ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
2. SSH è¿æ¥åˆ°æœåŠ¡å™¨
3. è¿›å…¥ç½‘ç«™ç›®å½•ï¼š
   ```bash
   cd /www/wwwroot/yourdomain.com
   ```
4. å…‹éš†æˆ–æ‹‰å–ä»£ç ï¼š
   ```bash
   git clone https://github.com/yourusername/joyeeassets.git .
   # æˆ–
   git pull origin main
   ```

### æ–¹æ³• 3ï¼šFTP ä¸Šä¼ 

1. åœ¨å®å¡”é¢æ¿åˆ›å»º FTP è´¦å·
2. ä½¿ç”¨ FTP å®¢æˆ·ç«¯ï¼ˆå¦‚ FileZillaï¼‰è¿æ¥
3. ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶åˆ°ç½‘ç«™æ ¹ç›®å½•

---

## âœ… æµ‹è¯•åŠŸèƒ½

éƒ¨ç½²å®Œæˆåï¼Œæµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **è®¿é—®ç™»å½•é¡µé¢**
   - è®¿é—® `https://yourdomain.com/login.html`
   - æ£€æŸ¥é¡µé¢æ˜¯å¦æ­£å¸¸æ˜¾ç¤º

2. **æµ‹è¯•é‚®ç®±æ³¨å†Œ**
   - è¾“å…¥é‚®ç®±å’Œå¯†ç ï¼ˆè‡³å°‘ 6 ä¸ªå­—ç¬¦ï¼‰
   - ç‚¹å‡» "æ³¨å†Œ"
   - æˆåŠŸååº”è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ

3. **æµ‹è¯•ç™»å½•**
   - ä½¿ç”¨åˆšæ³¨å†Œçš„è´¦å·ç™»å½•
   - æˆåŠŸååº”è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ

4. **æµ‹è¯• Google ç™»å½•**ï¼ˆå¦‚æœå·²å¯ç”¨ï¼‰
   - ç‚¹å‡» "Google" æŒ‰é’®
   - é€‰æ‹© Google è´¦å·
   - æˆæƒååº”è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ

5. **æµ‹è¯•ä¸ªäººä¸­å¿ƒ**
   - è®¿é—® `https://yourdomain.com/profile.html`
   - æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯æ˜¯å¦æ­£ç¡®æ˜¾ç¤º
   - æµ‹è¯• "é€€å‡ºç™»å½•" åŠŸèƒ½

6. **æµ‹è¯•é¦–é¡µé›†æˆ**
   - è®¿é—®é¦–é¡µ `https://yourdomain.com`
   - æœªç™»å½•æ—¶åº”æ˜¾ç¤º "Login" æŒ‰é’®
   - ç™»å½•ååº”æ˜¾ç¤ºç”¨æˆ·å¤´åƒå’Œä¸‹æ‹‰èœå•

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: ç‚¹å‡»ç™»å½•åæ²¡æœ‰ååº”

**A:** æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰ä»¥ä¸‹é”™è¯¯ï¼š
- **Firebase é…ç½®æœªå®Œæˆ**ï¼šç¡®ä¿ `auth.js` ä¸­çš„é…ç½®å·²æ­£ç¡®å¡«å†™
- **ç½‘ç»œé”™è¯¯**ï¼šæ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦èƒ½è®¿é—® Firebase API

### Q2: Google ç™»å½•å¼¹çª—è¢«æµè§ˆå™¨é˜»æ­¢

**A:**
- å…è®¸æµè§ˆå™¨å¼¹çª—
- æˆ–åœ¨æµè§ˆå™¨è®¾ç½®ä¸­å°†æ‚¨çš„åŸŸåæ·»åŠ åˆ°å…è®¸å¼¹çª—çš„åˆ—è¡¨

### Q3: GitHub ç™»å½•å¤±è´¥

**A:**
- æ£€æŸ¥ GitHub OAuth App çš„å›è°ƒ URL æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ Client ID å’Œ Client Secret æ­£ç¡®å¡«å†™
- æ£€æŸ¥ Firebase ä¸­çš„ GitHub ç™»å½•æ˜¯å¦å·²å¯ç”¨

### Q4: æœ¬åœ°æµ‹è¯•æ­£å¸¸ï¼Œéƒ¨ç½²åæ— æ³•ç™»å½•

**A:**
- ç¡®ä¿åœ¨ Firebase "Authorized domains" ä¸­æ·»åŠ äº†æ‚¨çš„åŸŸå
- æ£€æŸ¥ HTTPS é…ç½®ï¼ˆFirebase è¦æ±‚ä½¿ç”¨ HTTPSï¼Œlocalhost é™¤å¤–ï¼‰
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’Œ Cookies

### Q5: å¯†ç é‡ç½®é‚®ä»¶æ”¶ä¸åˆ°

**A:**
- æ£€æŸ¥åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹
- åœ¨ Firebase æ§åˆ¶å° -> Authentication -> Templates ä¸­è‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿
- ç¡®ä¿é‚®ç®±åœ°å€æ­£ç¡®

---

## ğŸ’° Firebase å…è´¹é…é¢

Firebase æä¾›æ…·æ…¨çš„å…è´¹é…é¢ï¼š

| åŠŸèƒ½ | å…è´¹é…é¢ |
|------|---------|
| è®¤è¯æ“ä½œ | 50,000 æ¬¡/æœˆ |
| å­˜å‚¨ç©ºé—´ | 1 GB |
| æ•°æ®åº“è¯»å– | 50,000 æ¬¡/å¤© |
| æ•°æ®åº“å†™å…¥ | 20,000 æ¬¡/å¤© |

å¯¹äºä¸­å°å‹ç½‘ç«™ï¼Œå…è´¹é…é¢å®Œå…¨è¶³å¤Ÿä½¿ç”¨ï¼

---

## ğŸ“š è¿›é˜¶åŠŸèƒ½

### é‚®ç®±éªŒè¯

åœ¨ `auth.js` ä¸­æ·»åŠ é‚®ç®±éªŒè¯åŠŸèƒ½ï¼š

```javascript
import { sendEmailVerification } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

// æ³¨å†Œåå‘é€éªŒè¯é‚®ä»¶
await sendEmailVerification(user);
alert('éªŒè¯é‚®ä»¶å·²å‘é€ï¼Œè¯·æŸ¥æ”¶ï¼');
```

### ç”¨æˆ·èµ„æ–™æ›´æ–°

```javascript
import { updateProfile } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

await updateProfile(user, {
  displayName: "æ–°ç”¨æˆ·å",
  photoURL: "https://example.com/avatar.jpg"
});
```

### æ•°æ®åº“é›†æˆ

å¦‚éœ€å­˜å‚¨ç”¨æˆ·é¢å¤–æ•°æ®ï¼Œå¯ä»¥é›†æˆ Firestoreï¼š

1. åœ¨ Firebase æ§åˆ¶å°å¯ç”¨ Firestore
2. åœ¨ä»£ç ä¸­å¯¼å…¥ Firestore SDK
3. å­˜å‚¨ç”¨æˆ·æ•°æ®

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

- ğŸ“– [Firebase å®˜æ–¹æ–‡æ¡£](https://firebase.google.com/docs/auth)
- ğŸ’¬ [Firebase ç¤¾åŒº](https://firebase.google.com/community)
- ğŸ“§ è”ç³»å¼€å‘è€…ï¼šrogercjd@joyeeassets.com

---

**ç¥æ‚¨é…ç½®é¡ºåˆ©ï¼** ğŸ‰
